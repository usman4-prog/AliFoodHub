<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SpiceBite ‚Äî Fast Food</title>
  <meta name="description" content="A clean, responsive fast food website with ratings and cart. Built with HTML, CSS, and JavaScript." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    /* ======= CSS RESET (friendly) ======= */
    *, *::before, *::after { box-sizing: border-box; }
    html, body { height: 100%; }
    body { margin: 0; font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Apple Color Emoji','Segoe UI Emoji'; color: #0f172a; background: #fbfbfd; }
    img { display: block; max-width: 100%; height: auto; }
    button { font: inherit; cursor: pointer; }
    a { color: inherit; text-decoration: none; }

    :root {
      --bg: #ffffff;
      --bg-soft: #f5f7fb;
      --text: #0f172a;
      --muted: #475569;
      --brand: #ef4444; /* red */
      --brand-600: #dc2626;
      --brand-700: #b91c1c;
      --surface: #ffffff;
      --shadow: 0 10px 30px rgba(2,6,23,0.08);
      --radius: 16px;
    }

    .container { width: min(1200px, 92%); margin: 0 auto; }
    .pill { padding: 4px 10px; border-radius: 999px; background: #fee2e2; color: #991b1b; font-weight: 600; font-size: 12px; letter-spacing: .3px; }
    .btn { display: inline-flex; align-items: center; gap: .6rem; padding: 12px 16px; border-radius: 12px; border: 1px solid transparent; background: var(--brand); color: #fff; font-weight: 700; box-shadow: var(--shadow); transition: all .2s ease; }
    .btn:hover { background: var(--brand-600); transform: translateY(-1px); }
    .btn.secondary { background: #fff; color: var(--text); border-color: #e5e7eb; box-shadow: none; }
    .btn.secondary:hover { background: #f3f4f6; }

    /* ======= HEADER / NAV ======= */
    header {
      position: sticky; top: 0; z-index: 50; background: rgba(255,255,255,.85);
      backdrop-filter: blur(12px); border-bottom: 1px solid #eef2f7; 
    }
    .nav { display: flex; align-items: center; justify-content: space-between; padding: 14px 0; }
    .brand { display: flex; align-items: center; gap: .7rem; font-weight: 800; }
    .brand-logo { width: 36px; height: 36px; border-radius: 10px; background: radial-gradient(120% 120% at 10% 10%, #ffedd5, #fecaca 40%, #ef4444 70%); box-shadow: var(--shadow); }
    .brand span { font-size: 20px; letter-spacing: .4px; }

    .nav-links { display: flex; align-items: center; gap: 20px; color: var(--muted); }
    .nav-links a { font-weight: 600; font-size: 14px; opacity: .9; }
    .nav-links a:hover { color: var(--text); }

    .actions { display: flex; align-items: center; gap: 10px; }
    .cart-btn { position: relative; }
    .badge { position: absolute; top: -6px; right: -6px; min-width: 20px; height: 20px; padding: 0 6px; border-radius: 999px; background: #111827; color: #fff; font-size: 12px; display: grid; place-items: center; }

    .hamburger { display: none; width: 38px; height: 38px; border-radius: 10px; border: 1px solid #e5e7eb; background: #fff; align-items: center; justify-content: center; }
    .hamburger span { width: 18px; height: 2px; background: #111827; position: relative; display: block; }
    .hamburger span::before, .hamburger span::after { content:""; position: absolute; left: 0; width: 18px; height: 2px; background: #111827; }
    .hamburger span::before { top: -6px; }
    .hamburger span::after { top: 6px; }

    @media (max-width: 900px) {
      .nav-links { display: none; }
      .hamburger { display: inline-flex; }
    }

    /* ======= MOBILE MENU ======= */
    .mobile-menu { position: fixed; inset: 0; background: rgba(15,23,42,.5); display: none; z-index: 40; }
    .mobile-sheet { position: absolute; right: 0; top: 0; height: 100%; width: min(360px, 88%); background: #fff; padding: 24px; box-shadow: var(--shadow); }
    .mobile-links { display: grid; gap: 16px; margin-top: 10px; }
    /* ===== Hover Zoom for Product Images ===== */
.card .img img {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  border-radius: 12px;
}

.card .img img:hover {
  transform: scale(1.08);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
}


    /* ======= HERO / INTRO ======= */
    .hero { position: relative; isolation: isolate; }
    .hero::before {
  content: "";
  position: absolute;
  inset: 0;
  background: url('delicious-burger-black-background-fire-high-quality-photo-394050012.webp') center/cover no-repeat;
  filter: brightness(0.6);
  z-index: -2;
}
    .hero::after { content:""; position: absolute; inset: 0; background: linear-gradient(to bottom, rgba(0,0,0,.25), rgba(255,255,255,0)); z-index: -1; }
    .hero-inner { display: grid; grid-template-columns: 1.2fr .8fr; gap: 40px; align-items: center; padding: 56px 0 72px; }
    .intro { color: #fff; }
    .intro h1 { font-size: clamp(32px, 5vw, 56px); line-height: 1.05; margin: 0 0 12px; }
    .intro p { font-size: clamp(15px, 2.3vw, 18px); opacity: .95; }
    .hero-card { background: rgba(241, 211, 211, 0.96); backdrop-filter: blur(12px); border: 1px solid #eef2f7; border-radius: var(--radius); padding: 22px; box-shadow: var(--shadow); }
    .hero-card h3 { margin: 0 0 8px; font-size: 20px; }
    .hero-list { list-style: none; padding: 0; margin: 0; display: grid; gap: 10px; color: #334155; }

    @media (max-width: 900px) {
      .hero-inner { grid-template-columns: 1fr; gap: 24px; padding: 28px 0 36px; }
      .hero-card { order: -1; }
    }
    /* ===== HERO (Responsive Fix) ===== */
.hero-inner {
  display: flex;
  flex-wrap: wrap;
  gap: 24px;
  align-items: center;
  padding: 40px 0;
}
.hero-inner > * {
  flex: 1 1 300px; /* minimum width per child */
}
.hero-card {
  flex: 1 1 260px;
}

/* ===== MENU GRID (Responsive) ===== */
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 18px;
}

/* ===== ABOUT (Responsive) ===== */
#about {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  margin-top: 36px;
}
#about > * {
  flex: 1 1 300px;
}

/* ===== FOOTER (Responsive) ===== */
.footer-inner {
  padding: 28px 0;
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  justify-content: space-between;
  text-align: left;
}
.footer-inner > div {
  flex: 1 1 200px;
}
@media (max-width: 600px) {
  .footer-inner {
    text-align: center;
    justify-content: center;
  }
}


    /* ======= SECTION HEAD ======= */
    .section-head { display: flex; align-items: end; justify-content: space-between; gap: 16px; margin: 40px 0 16px; }
    .section-head h2 { margin: 0; font-size: clamp(22px, 2.6vw, 32px); }
    .muted { color: var(--muted); font-size: 14px; }

    /* ======= MENU GRID ======= */
    .grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 18px; }
    @media (max-width: 1000px) { .grid { grid-template-columns: repeat(3, 1fr); } }
    @media (max-width: 760px) { .grid { grid-template-columns: repeat(2, 1fr); } }
    @media (max-width: 520px) { .grid { grid-template-columns: 1fr; } }

    .card { background: var(--surface); border: 1px solid #eef2f7; border-radius: 18px; overflow: hidden; box-shadow: var(--shadow); display: grid; grid-template-rows: 160px 1fr; }
    .card .img { position: relative; }
    .card .img img { width: 100%; height: 100%; object-fit: cover; }
    .card-body { padding: 14px; display: grid; gap: 10px; }
    .title { font-weight: 800; letter-spacing: .2px; }
    .desc { color: var(--muted); font-size: 14px; }
    .price-row { display: flex; align-items: center; justify-content: space-between; }
    .price { font-size: 18px; font-weight: 800; }

    .stars { display: inline-flex; gap: 2px; font-size: 16px; color: #f59e0b; }
    .stars button { background: transparent; border: 0; padding: 0; line-height: 1; }

    .qty { display: inline-flex; align-items: center; border: 1px solid #e5e7eb; border-radius: 10px; overflow: hidden; }
    .qty button { width: 32px; height: 32px; border: 0; background: #f8fafc; }
    .qty input { width: 36px; text-align: center; border: 0; outline: none; }

    /* ======= CART DRAWER ======= */
    .cart-overlay { position: fixed; inset: 0; background: rgba(15,23,42,.5); display: none; z-index: 60; }
    .cart { position: absolute; right: 0; top: 0; width: min(420px, 92%); height: 100%; background: #fff; display: grid; grid-template-rows: auto 1fr auto; box-shadow: var(--shadow); }
    .cart-head { display: flex; align-items: center; justify-content: space-between; padding: 16px; border-bottom: 1px solid #eef2f7; }
    .cart-items { overflow: auto; padding: 12px 14px; display: grid; gap: 10px; }
    .cart-item { display: grid; grid-template-columns: 64px 1fr auto; gap: 10px; align-items: center; border: 1px solid #eef2f7; border-radius: 12px; padding: 8px; }
    .cart-item img { width: 64px; height: 64px; object-fit: cover; border-radius: 8px; }
    .cart-item .meta { font-size: 14px; color: #334155; }
    .cart-item .meta b { color: #111827; }
    .cart-foot { border-top: 1px solid #eef2f7; padding: 14px; display: grid; gap: 10px; }
    .row { display: flex; align-items: center; justify-content: space-between; }

    
   /* ======= FOOTER ======= */
footer {
  margin-top: 40px;            /* space above footer */
  background: #111;            /* dark background */
  color: #cbd5e1;              /* light gray text */
  text-align: center;
  font-size: 14px;
}

/* Inner content grid */
.footer-inner {
  padding: 28px 0;
  display: grid;
  grid-template-columns: 1.2fr .8fr .8fr;
  gap: 18px;
}

/* Headings inside footer */
.footer-inner h4 {
  color: #fff;
  margin: 0 0 8px;
}

/* Social icons row */
.social {
  display: flex;
  justify-content: center;
  gap: 10px;
}

/* Badge style links */
.badge-link {
  display: inline-block;
  padding: 8px 12px;
  border: 1px solid #233052;
  border-radius: 999px;
  transition: background 0.3s ease, color 0.3s ease;
}

.badge-link:hover {
  background: #233052;
  color: #fff;
}

/* Responsive for small screens */
@media (max-width: 820px) {
  .footer-inner {
    grid-template-columns: 1fr;
  }
}



    /* ======= UTIL ======= */
    .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }
  </style>
</head>
<body>
  <!-- ================= HEADER ================= -->
  <header>
    <div class="container nav" role="navigation" aria-label="Main">
      <a href="#" class="brand" aria-label="SpiceBite homepage">
        <span class="brand-logo" aria-hidden="true"></span>
        <span>Ali‚Äôs Food Hub</span>
      </a>

      <nav class="nav-links" aria-label="Primary">
        <a href="#menu">Menu</a>
        <a href="#deals">Deals</a>
        <a href="#about">About</a>
        <a href="#contact">Contact</a>
      </nav>

      <div class="actions">
        <button class="btn secondary" id="openCart" aria-label="Open cart">üõí<span class="badge" id="cartCount">0</span></button>
        <button class="hamburger" id="openMenu" aria-label="Open menu"><span></span></button>
      </div>
    </div>
  </header>

  <!-- ================= MOBILE MENU ================= -->
  <div class="mobile-menu" id="mobileMenu" aria-hidden="true">
    <div class="mobile-sheet" role="dialog" aria-modal="true" aria-label="Mobile Menu">
      <div style="display:flex; align-items:center; justify-content:space-between;">
        <div class="brand" style="gap:.5rem;">
          <span class="brand-logo" aria-hidden="true"></span>
          <span>Ali‚Äôs Food Hub</span>
        </div>
        <button class="btn secondary" id="closeMenu" aria-label="Close menu">Close</button>
      </div>
      <div class="mobile-links">
        <a href="#menu" onclick="closeMobile()">Menu</a>
        <a href="#deals" onclick="closeMobile()">Deals</a>
        <a href="#about" onclick="closeMobile()">About</a>
        <a href="#contact" onclick="closeMobile()">Contact</a>
      </div>
    </div>
  </div>

  <!-- ================= HERO / INTRO ================= -->
  <section class="hero">
    <div class="container hero-inner">
      <div class="intro">
        <span class="pill">100% Halal ‚Ä¢ Fresh ‚Ä¢ Fast</span>
        <h1>Flame‚Äëgrilled burgers, crispy fries, cheesy pizzas ‚Äî delivered fast.</h1>
        <p>Welcome to <b>Ali‚Äôs Food Hub</b>, your neighborhood fast food brand. We craft bold flavors with fresh ingredients and serve them hot. Order now and track your cart live.</p>
        <div style="display:flex; gap:10px; margin-top:16px;">
          <a class="btn" href="#menu">Explore Menu</a>
          <a class="btn secondary" href="#about">About Us</a>
        </div>
      </div>
      <div class="hero-card" id="deals" aria-labelledby="dealTitle">
        <h3 id="dealTitle">üî• Today‚Äôs Deals</h3>
        <ul class="hero-list">
          <li>üçî Burger Combo (Burger + Fries + Drink) ‚Äî <b>Rs 799</b></li>
          <li>üçï Large Pepperoni + 2 Dips ‚Äî <b>Rs 1,499</b></li>
          <li>üåÆ 2 Tacos + Salsa ‚Äî <b>Rs 549</b></li>
        </ul>
      </div>
    </div>
  </section>

  <!-- ================= MENU ================= -->
  <main class="container" id="menu">
    <div class="section-head">
      <div>
        <h2>Popular Items</h2>
        <div class="muted">Tap ‚≠ê to rate ‚Ä¢ Add to cart anytime</div>
      </div>
      <div style="display:flex; gap:10px; align-items:center;">
        <input id="search" placeholder="Search burgers, pizza..." aria-label="Search menu" style="padding:12px 14px; border:1px solid #e5e7eb; border-radius:12px; min-width: 220px;">
        <select id="sort" aria-label="Sort by" style="padding:12px 14px; border:1px solid #e5e7eb; border-radius:12px;">
          <option value="popular">Sort: Popular</option>
          <option value="priceLow">Price: Low ‚Üí High</option>
          <option value="priceHigh">Price: High ‚Üí Low</option>
          <option value="rating">Top Rated</option>
        </select>
      </div>
    </div>

    <div class="grid" id="productGrid" aria-live="polite"></div>

    <!-- About -->
    <section id="about" style="margin-top:36px; display:grid; grid-template-columns: 1.2fr .8fr; gap: 20px;">
      <div>
        <h2>Ali‚Äôs Food Hub</h2>
        <p class="muted">Founded in 2024 in Karachi, SpiceBite blends street‚Äëstyle flavor with kitchen‚Äëgrade hygiene. Our kitchens are open‚Äëview, our ingredients are locally sourced, and our packaging is eco‚Äëfriendly.</p>
        <ul class="hero-list" style="margin-top:10px;">
          <li>‚úÖ ISO‚Äëcertified kitchen processes</li>
          <li>üöö 30‚Äì40 min average delivery</li>
          <li>üí≥ Cash & online payments accepted</li>
        </ul>
      </div>
      <div class="hero-card">
        <h3>Opening Hours</h3>
        <p class="muted">Mon‚ÄìThu: 11am‚Äì11pm ‚Ä¢ Fri‚ÄìSun: 11am‚Äì12am</p>
        <h3 style="margin-top:12px;">Contact</h3>
        <p class="muted" id="contact">üìç Bharakhu islamabad ‚Ä¢ ‚òé 03xx‚Äëxxxxxxx ‚Ä¢ ‚úâ hello@Ali‚ÄôsFoodHub.pk</p>
      </div>
    </section>
  </main>

  <!-- ================= CART DRAWER ================= -->
  <div class="cart-overlay" id="cartOverlay" aria-hidden="true">
    <aside class="cart" role="dialog" aria-modal="true" aria-labelledby="cartTitle">
      <div class="cart-head">
        <h3 id="cartTitle">Your Cart</h3>
        <button class="btn secondary" id="closeCart" aria-label="Close cart">Close</button>
      </div>
      <div class="cart-items" id="cartItems"></div>
      <div class="cart-foot">
        <div class="row"><span>Subtotal</span><b id="subtotal">Rs 0</b></div>
        <div class="row"><span>Delivery</span><span>FREE</span></div>
        <div class="row" style="font-size:18px; font-weight:800;"><span>Total</span><span id="total">Rs 0</span></div>
        <button class="btn" id="checkout">Checkout</button>
      </div>
    </aside>
  </div>

  <!-- ================= FOOTER ================= -->
<footer>
  <div class="footer-inner">
    <div>
      <h4>About Us</h4>
      <p>Best fast food with fresh taste.</p>
    </div>
    <div>
      <h4>Quick Links</h4>
      <p>Menu | Offers | Contact</p>
    </div>
    <div>
      <h4>Follow Us</h4>
      <div class="social">
        <a href="#" class="badge-link">Facebook</a>
        <a href="#" class="badge-link">Instagram</a>
        <a href="#" class="badge-link">WhatsApp</a>
      </div>
    </div>
  </div>
  <p>¬© <span id="2025"></span> Ali‚Äôs Food Hub. All rights reserved.</p>
</footer>


  <!-- ================= JS ================= -->
  <script>
    // ======= Data (replace with your backend later) =======
    const PRODUCTS = [
      { id: 'p1', name: 'Classic Beef Burger', price: 549, rating: 4.6, img: 'https://images.unsplash.com/photo-1550547660-d9450f859349?q=80&w=1200&auto=format&fit=crop', desc: 'Juicy beef patty, cheddar, house sauce.' },
      { id: 'p2', name: 'Chicken Zinger Burger', price: 499, rating: 4.7, img: 'https://images.unsplash.com/photo-1568901346375-23c9450c58cd?q=80&w=1200&auto=format&fit=crop', desc: 'Crispy fillet, lettuce, spicy mayo.' },
      { id: 'p3', name: 'Pepperoni Pizza (Large)', price: 1499, rating: 4.8, img: '1000_F_209666312_oegam0ieyO7keWNWR3lNLqQJhuaREcmt.jpg' },
      { id: 'p4', name: 'Loaded Fries', price: 399, rating: 4.5, img: 'pngtree-ultimate-loaded-fries-with-cheese-and-vegetables-png-image_19531229.png', desc: 'Shoestring fries, cheese sauce, jalape√±os.' },
      { id: 'p5', name: 'BBQ Chicken Pizza', price: 1399, rating: 4.4, img: 'delicious-bbq-chicken-pizza-floating-dark-background-tasty-grilled-red-onion-cilantro-sauce-isolated-368536482.webp', desc: 'Smokey BBQ, onions, cilantro.' },
      { id: 'p6', name: 'Taco Duo', price: 549, rating: 4.2, img: 'tacos-with-meat-and-vegetables-on-a-black-background-with-smoke-ai-generative-image-free-photo.jpg', desc: 'Soft tortillas, chicken, pico de gallo.' },
      { id: 'p7', name: 'Cheesy Garlic Bread', price: 299, rating: 4.1, img: 'garlic-bread-with-herb-on-black-stone-background-photo.jpg', desc: 'Oven baked, garlic butter, herbs.' },
      { id: 'p8', name: 'Chocolate Shake', price: 349, rating: 4.9, img: '1000_F_231772307_x3JTKidyuVRfMT1FoyNBCSSTW0bekcJY.jpg', desc: 'Creamy, thick, Belgian cocoa.' },
    ];

    // ======= State =======
    const state = {
      products: [...PRODUCTS],
      cart: [], // {id, name, price, qty, img}
      search: '',
      sort: 'popular',
      ratings: {}, // store custom ratings by product id
    };

    // ======= Helpers =======
    const byId = (id) => document.getElementById(id);
    const formatRs = (n) => 'Rs ' + n.toLocaleString('en-PK');

    function renderStars(value = 0, pid) {
      const full = Math.floor(value);
      const half = value - full >= 0.5;
      let html = '';
      for (let i = 1; i <= 5; i++) {
        const filled = i <= full || (i === full + 1 && half);
        html += `<button class="star" aria-label="Set rating ${i}" data-id="${pid}" data-value="${i}">${filled ? '‚òÖ' : '‚òÜ'}</button>`;
      }
      return `<div class="stars" data-id="${pid}">${html}<span class="sr-only">Rated ${value} out of 5</span></div>`;
    }

    function getEffectiveRating(p) {
      return state.ratings[p.id] ?? p.rating;
    }

    function renderProducts() {
      const grid = byId('productGrid');
      let list = PRODUCTS.filter(p => p.name.toLowerCase().includes(state.search.toLowerCase()));
      // sort
      switch (state.sort) {
        case 'priceLow': list.sort((a,b)=> a.price - b.price); break;
        case 'priceHigh': list.sort((a,b)=> b.price - a.price); break;
        case 'rating': list.sort((a,b)=> getEffectiveRating(b) - getEffectiveRating(a)); break;
        default: list.sort((a,b)=> b.rating - a.rating); // popular ~ rating
      }

      grid.innerHTML = list.map(p => `
        <article class="card" aria-label="${p.name}">
          <div class="img"><img src="${p.img}" alt="${p.name}"></div>
          <div class="card-body">
            <div class="title">${p.name}</div>
            <div class="desc">${p.desc}</div>
            <div class="price-row">
              <div>
                <div class="price">${formatRs(p.price)}</div>
                ${renderStars(getEffectiveRating(p), p.id)}
              </div>
              <div style="display:grid; gap:6px; justify-items:end;">
                <div class="qty">
                  <button aria-label="Decrease quantity" data-qty="-1" data-id="${p.id}">‚àí</button>
                  <input type="text" inputmode="numeric" pattern="[0-9]*" value="1" aria-label="Quantity" data-qty-input="${p.id}">
                  <button aria-label="Increase quantity" data-qty="1" data-id="${p.id}">+</button>
                </div>
                <button class="btn" data-add="${p.id}" aria-label="Add ${p.name} to cart">Add to Cart</button>
              </div>
            </div>
          </div>
        </article>
      `).join('');
    }

    // ======= Cart logic =======
    function addToCart(pid, qty = 1) {
      const p = PRODUCTS.find(x => x.id === pid);
      if (!p) return;
      const existing = state.cart.find(x => x.id === pid);
      if (existing) existing.qty += qty; else state.cart.push({ id: p.id, name: p.name, price: p.price, img: p.img, qty });
      renderCart();
    }

    function updateQty(pid, delta) {
      const item = state.cart.find(x => x.id === pid);
      if (!item) return;
      item.qty = Math.max(1, item.qty + delta);
      renderCart();
    }

    function removeFromCart(pid) {
      state.cart = state.cart.filter(x => x.id !== pid);
      renderCart();
    }

    function calcTotals() {
      const subtotal = state.cart.reduce((s, x) => s + x.price * x.qty, 0);
      byId('subtotal').textContent = formatRs(subtotal);
      byId('total').textContent = formatRs(subtotal); // delivery free
      byId('cartCount').textContent = state.cart.reduce((s, x) => s + x.qty, 0);
    }

    function renderCart() {
      const box = byId('cartItems');
      if (state.cart.length === 0) {
        box.innerHTML = `<p class="muted">Your cart is empty. Add something tasty! üçü</p>`;
      } else {
        box.innerHTML = state.cart.map(x => `
          <div class="cart-item">
            <img src="${x.img}" alt="${x.name}">
            <div class="meta"><b>${x.name}</b><br>${formatRs(x.price)} ‚Ä¢ Qty ${x.qty}</div>
            <div style="display:grid; gap:6px;">
              <div class="qty">
                <button aria-label="Decrease" data-cart-delta="-1" data-id="${x.id}">‚àí</button>
                <input value="${x.qty}" aria-label="Quantity for ${x.name}" disabled>
                <button aria-label="Increase" data-cart-delta="1" data-id="${x.id}">+</button>
              </div>
              <button class="btn secondary" data-remove="${x.id}">Remove</button>
            </div>
          </div>
        `).join('');
      }
      calcTotals();
    }

    // ======= UI events =======
    function openCart() { const ov = byId('cartOverlay'); ov.style.display = 'block'; ov.setAttribute('aria-hidden','false'); }
    function closeCart() { const ov = byId('cartOverlay'); ov.style.display = 'none'; ov.setAttribute('aria-hidden','true'); }
    function openMobile() { const m = byId('mobileMenu'); m.style.display = 'block'; m.setAttribute('aria-hidden','false'); }
    function closeMobile() { const m = byId('mobileMenu'); m.style.display = 'none'; m.setAttribute('aria-hidden','true'); }

    byId('openCart').addEventListener('click', openCart);
    byId('closeCart').addEventListener('click', closeCart);
    byId('openMenu').addEventListener('click', openMobile);
    byId('closeMenu').addEventListener('click', closeMobile);
    byId('cartOverlay').addEventListener('click', (e)=>{ if(e.target.id==='cartOverlay') closeCart(); });

    // Delegate grid interactions
    document.addEventListener('click', (e) => {
      const add = e.target.closest('[data-add]');
      if (add) {
        const pid = add.getAttribute('data-add');
        const qtyInput = document.querySelector(`[data-qty-input="${pid}"]`);
        const qty = Math.max(1, parseInt(qtyInput?.value || '1', 10));
        addToCart(pid, qty);
      }

      const qBtn = e.target.closest('[data-qty]');
      if (qBtn) {
        const pid = qBtn.getAttribute('data-id');
        const input = document.querySelector(`[data-qty-input="${pid}"]`);
        const delta = parseInt(qBtn.getAttribute('data-qty'), 10);
        const next = Math.max(1, parseInt(input.value || '1', 10) + delta);
        input.value = String(next);
      }

      const cDelta = e.target.closest('[data-cart-delta]');
      if (cDelta) { updateQty(cDelta.getAttribute('data-id'), parseInt(cDelta.getAttribute('data-cart-delta'),10)); }

      const rem = e.target.closest('[data-remove]');
      if (rem) { removeFromCart(rem.getAttribute('data-remove')); }

      const star = e.target.closest('.star');
      if (star) {
        const pid = star.getAttribute('data-id');
        const val = Number(star.getAttribute('data-value'));
        state.ratings[pid] = val;
        renderProducts();
      }
    });

    // Search & sort
    byId('search').addEventListener('input', (e)=>{ state.search = e.target.value; renderProducts(); });
    byId('sort').addEventListener('change', (e)=>{ state.sort = e.target.value; renderProducts(); });

    // Checkout demo
    byId('checkout').addEventListener('click', ()=>{
      if (!state.cart.length) return alert('Cart is empty.');
      alert('Checkout successful (demo). Integrate with payment gateway here.');
      state.cart = [];
      renderCart();
      closeCart();
    });

    // Init
    renderProducts();
    renderCart();

    // ===== Mobile tap zoom effect =====
document.querySelectorAll('.card .img img').forEach(img => {
  img.addEventListener('touchstart', () => {
    img.style.transform = "scale(1.08)";
    img.style.boxShadow = "0 8px 20px rgba(0,0,0,0.25)";
  });

  img.addEventListener('touchend', () => {
    img.style.transform = "scale(1)";
    img.style.boxShadow = "none";
  });
});

    // Set current year automatically
document.addEventListener("DOMContentLoaded", () => {
  document.getElementById("year").textContent = new Date().getFullYear();
});

  </script>
</body>
</html>
